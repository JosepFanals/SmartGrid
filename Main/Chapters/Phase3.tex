
\begin{figure}[!htb]\centering

  \begin{circuitikz}[/tikz/circuitikz/bipoles/length=1cm, line width=0.8pt]

    % grid
    \draw[gray!50!white, line width=0.5pt] (0.0,0.0) to [short] (8.0,0.0);
    \draw[gray!50!white, line width=0.5pt] (0.0,1.6) to [short] (8.0,1.6);
    \draw[gray!50!white, line width=0.5pt] (0.0,3.2) to [short] (8.0,3.2);
    \draw[gray!50!white, line width=0.5pt] (0.0,4.8) to [short] (8.0,4.8);
    \draw[gray!50!white, line width=0.5pt] (0.0,6.4) to [short] (8.0,6.4);
    \draw[gray!50!white, line width=0.5pt] (0.0,8.0) to [short] (8.0,8.0);

    \draw[gray!50!white, line width=0.5pt] (0.0,0.0) to [short] (0.0,8.0);
    \draw[gray!50!white, line width=0.5pt] (1.6,0.0) to [short] (1.6,8.0);
    \draw[gray!50!white, line width=0.5pt] (3.2,0.0) to [short] (3.2,8.0);
    \draw[gray!50!white, line width=0.5pt] (4.8,0.0) to [short] (4.8,8.0);
    \draw[gray!50!white, line width=0.5pt] (6.4,0.0) to [short] (6.4,8.0);
    \draw[gray!50!white, line width=0.5pt] (8.0,0.0) to [short] (8.0,8.0);


    % generators
    \draw (3.2,-1.8) to [sV, fill=magenta!70!cyan] (3.2,-1.2);
    \draw [short] (3.2,-1.2) to [short] (3.2,-1.0);
    \draw (-1.8,1.6) to [sV, fill=green!50!white] (-1.2,1.6);
    \draw [short] (-1.2,1.6) to [short] (-1.0,1.6);
    \draw (9.2,1.6) to [sV, fill=cyan!50!white] (9.8,1.6);
    \draw [short] (9.2,1.6) to [short] (9.0,1.6);
    \draw (4.8,3.6) to [sV, fill=black!60!white] (4.8,3.0);
    \draw [short] (4.8,3.6) to [short] (4.8,3.8);
    \draw (8.4,4.8) to [sV, fill=yellow!60!white] (9.0,4.8);
    \draw [short] (8.0,4.8) to [short] (8.4,4.8);
    \draw (1.6,9.2) to [sV, fill=orange!60!white] (1.6,9.8);
    \draw [short] (1.6,9.0) to [short] (1.6,9.2);


    % large buses
    \draw[line width=2.5pt] (2.7,0) to [short] (3.7,0);
    \draw[line width=2.5pt] (0.0,1.1) to [short] (0,2.1);
    \draw[line width=2.5pt] (8.0,1.1) to [short] (8,2.1);
    \draw[line width=2.5pt] (1.1,8) to [short] (2.1,8);
    \draw[line width=2.5pt] (2.7,3.2) to [short] (3.7,3.2);
    \draw[line width=2.5pt] (2.7,4.8) to [short] (3.7,4.8);
    \draw[line width=2.5pt] (4.3,6.4) to [short] (5.3,6.4);
    \draw[line width=2.5pt] (0.0,5.9) to [short] (-0.0,6.9);
    \draw[line width=2.5pt] (8,4.3) to [short] (8,5.3);
    \draw[line width=2.5pt] (4.3,4.8) to [short] (5.3,4.8);

    % small buses
    \draw[line width=2.5pt] (2.9,-1) to [short] (3.5,-1);
    \draw[line width=2.5pt] (-1.0,1.3) to [short] (-1,1.9);
    \draw[line width=2.5pt] (9,1.3) to [short] (9,1.9);
    \draw[line width=2.5pt] (4.5,3.8) to [short] (5.1,3.8);
    \draw[line width=2.5pt] (1.3,9.0) to [short] (1.9,9.0);

    \draw[line width=2.5pt] (1.75,3.2) to [short] (1.75,2.6);
    \draw[line width=2.5pt] (1.75,4.8) to [short] (1.75,4.2);
    \draw[line width=2.5pt] (-0.95,6.7) to [short] (-0.95,6.1);
    \draw[line width=2.5pt] (4.5,7.35) to [short] (5.1,7.35);

    % trafos
    \draw (3.2,-1.0) to [voosource] (3.2,0.0);
    \draw (-1,1.6) to [voosource] (0,1.6);
    \draw (8,1.6) to [voosource] (9,1.6);
    \draw (1.6,8) to [voosource] (1.6,9);
    \draw (4.8,4.8) to [voosource] (4.8,3.8);

    \draw (-1,6.4) to [voosource] (0,6.4);
    \draw (4.8,6.4) to [voosource] (4.8,7.4);
    \draw (2.7,4.5) to [voosource] (1.7,4.5);
    \draw (2.7,2.9) to [voosource] (1.7,2.9);

    % loads
    \draw[-{Triangle[length=5mm, width=2mm]}, draw=blue!60!white, fill=blue!60!white] (-1,6.4) -- (-1.6,6.4);
    \draw[-{Triangle[length=5mm, width=2mm]}, draw=blue!60!white, fill=blue!60!white] (4.8,7.4) -- (4.8,8.0);
    \draw[-{Triangle[length=5mm, width=2mm]}, draw=red!60!white, fill=red!60!white] (1.7,4.5) -- (1.1,4.5);
    \draw[-{Triangle[length=5mm, width=2mm]}, draw=blue!60!white, fill=blue!60!white] (1.7,2.9) -- (1.1,2.9);

    \draw (3.0,4.8) to [short] (3.0,4.5);
    \draw (3.0,4.5) to [short] (2.7,4.5);

    \draw (2.75,3.2) to [short] (2.75,2.9);
    \draw (2.75,2.9) to [short] (2.7,2.9);

    % lines
    \draw (3.15,0) to [short] (3.15,3.2);
    \draw (3.25,0) to [short] (3.25,3.2);
    \draw (3.15,3.2) to [short] (3.15,4.8);
    \draw (3.25,3.2) to [short] (3.25,4.8);
    \draw (4.6,4.8) to [short] (4.6,5.1);
    \draw (4.6,5.1) to [short] (3.4,5.1);
    \draw (3.4,5.1) to [short] (3.4,4.8);
    \draw (3.15,4.8) to [short] (3.15,5.1);
    \draw (3.25,4.8) to [short] (3.25,5.1);
    \draw (3.15,5.1) to [short] (4.55,6.1);
    \draw (3.25,5.1) to [short] (4.65,6.1);
    \draw (4.55,6.1) to [short] (4.55,6.4);
    \draw (4.65,6.1) to [short] (4.65,6.4);
    \draw (5.0,6.4) to [short] (5.0,6.1);
    \draw (5.0,6.1) to [short] (7.7,5.1);
    \draw (7.7,5.1) to [short] (8.0,5.1);
    \draw (0,6.4) to [short] (0.3,6.4);
    \draw (0.3,6.4) to [short] (3.0,5.1);
    \draw (3.0,5.1) to [short] (3.0,4.8);

    % proposed new lines
    \draw[dashed, draw=red] (8, 4.4) to [short] (3.5,4.4);
    \draw[dashed, draw=red] (3.5,4.4) to [short] (3.5,4.8);
    \draw[dashed, draw=red] (8,4.4) to [short] (3.5,3.2);
    \draw[dashed, draw=red] (4.5,6.4) to [short] (0,6.4);
    \draw[dashed, draw=red] (3,0) to [short] (3,4.8);
    \draw[dashed, draw=red] (3,3.2) to [short] (0,6.2);
    \draw[dashed, draw=red] (3,0) to [short] (0,6.2);

    % \draw[dashed, draw=red] (8,5.0) to [short] (4.8,5.0);
    % \draw[dashed, draw=red] (4.8,5.0) to [short] (4.8,4.8);
    \draw[dashed, draw=red] (8,4.4) to [short] (3.3,0);

    \draw[draw=red] (6.0,4.25) to [short] (6.3,4.55);
    \draw[draw=red] (6.2,4.25) to [short] (6.5,4.55);

    % \draw[draw=red] (6,4.85) to [short] (6.3,5.15);
    % \draw[draw=red] (6.2,4.85) to [short] (6.5,5.15);

    % \draw[draw=red] (6,4.25) to [short] (6.3,4.55);
    % \draw[draw=red] (6.2,4.25) to [short] (6.5,4.55);

    \draw[draw=red] (2,6.25) to [short] (2.3,6.55);
    \draw[draw=red] (2.2,6.25) to [short] (2.5,6.55);

    \draw[draw=red] (2.85,1.5) to [short] (3.15,1.8);
    \draw[draw=red] (2.85,1.7) to [short] (3.15,2.0);

    \draw[draw=red] (2.3,3.6) to [short] (2.6,3.9);
    \draw[draw=red] (2.2,3.7) to [short] (2.5,4.0);

    \draw[draw=red] (5.3,1.6) to [short] (5.0,1.9);
    \draw[draw=red] (5.4,1.7) to [short] (5.1,2.0);

    % lines for rene
    \draw (0,6.7) to [short] (0.3,6.7);
    \draw (0,6.8) to [short] (0.3,6.8);
    \draw (0.3,6.7) to [short] (1.65,7.7);
    \draw (0.3,6.8) to [short] (1.55,7.7);
    \draw (1.65,7.7) to [short] (1.65,8.0);
    \draw (1.55,7.7) to [short] (1.55,8.0);

    \draw (0,1.55) to [short] (2.85,1.55);
    \draw (0,1.65) to [short] (2.75,1.65);

    \draw (2.85,1.55) to [short] (2.85,3.2);
    \draw (2.75,1.65) to [short] (2.75,3.2);

    % legend
    \draw[-{Triangle[length=5mm, width=2mm]}, draw=blue!60!white, fill=blue!60!white] (3.0,8.4) -- (4.0,8.4);
    \draw[-{Triangle[length=5mm, width=2mm]}, draw=red!60!white, fill=red!60!white] (3.0,9.1) -- (4.0,9.1);
    \draw (3.2,9.8) to [sV, fill=magenta!70!cyan] (3.8,9.8);

    \draw (6.0,9.8) to [sV, fill=black!60!white] (6.6,9.8);
    \draw (6.0,9.1) to [sV, fill=yellow!60!white] (6.6,9.1);
    \draw (6.0,8.4) to [sV, fill=green!50!white] (6.6,8.4);

    \draw (9.0,9.8) to [sV, fill=orange!60!white] (9.6,9.8);
    \draw (9.0,9.1) to [sV, fill=cyan!50!white] (9.6,9.1);
    \draw[dashed, draw=red] (9.0,8.4) to [short] (9.5,8.4);

    \node at (4.73, 9.8) {\footnotesize Nuclear};
    \node at (4.66, 9.1) {\footnotesize Load I};
    \node at (4.72, 8.4) {\footnotesize Load II};

    \node at (7.64, 9.8) {\footnotesize Dismantled};
    \node at (7.49, 9.1) {\footnotesize Intercon.};
    \node at (7.28, 8.4) {\footnotesize Wind};

    \node at (10.25, 9.8) {\footnotesize Solar};
    \node at (10.40, 9.1) {\footnotesize Storage};
    \node at (10.45, 8.4) {\footnotesize New line};

    \draw[gray!50!white, line width=0.5pt] (8.5,8.0) to [short] (10.1,8.0);
    \draw[gray!50!white, line width=0.5pt] (8.5,6.4) to [short] (10.1,6.4);
    \draw[gray!50!white, line width=0.5pt] (8.5,6.4) to [short] (8.5,8.0);
    \draw[gray!50!white, line width=0.5pt] (10.1,6.4) to [short] (10.1,8.0);

    \node at (9.30, 6.2) {\footnotesize 50 km};
    \node[rotate=90] at (10.3, 7.2) {\footnotesize 50 km};

    \draw [fill=gray, opacity=0.2, line width=0.01pt] (2.95,10.15) rectangle (11.5,8.05);
    \draw [fill=gray, opacity=0.2, line width=0.01pt] (11.5,8.05) rectangle (8.05,6.05);

    % buses nodes and labels
    \node at (3.6, 0.2) {8};
    \node at (3.6, -1.0) {1};
    \node at (3.6, 4.6) {9};
    \node at (1.75, 5.0) {2};
    \node at (3.6, 3.0) {10};
    \node at (1.75, 3.45) {3};
    \node at (4.4, 6.6) {11};
    \node at (4.4, 7.6) {4};
    \node at (0.0, 7.1) {12};
    \node at (-1.2, 6.7) {5};
    \node at (5.2, 4.6) {13};
    \node at (5.3, 3.8) {7};
    \node at (7.8, 4.6) {6}; 

  \end{circuitikz}

  \caption{Overview of the network with renewables and the potential addition of lines}
  \label{fig:netrene}
\end{figure}

\begin{table}[!htb]\centering
  \begin{tabular}{ccc}
    \hline
    \textbf{Identifier} & \textbf{New lines} & \textbf{Infraestructure cost (M\texteuro)}\\
    \hline
    19 & [6-13, 6-10, 8-9, 10-12] &  359.50 \\
    214 & [6-13, 6-10, 11-12, 8-9] & 362.99 \\
    77 & [6-13, 8-9, 10-12, 9-6] & 375.04 \\
    49 & [6-13, 11-12, 8-9, 9-6] & 378.54 \\
    80 & [6-13, 6-10, 11-12, 8-9, 10-12] & 420.63 \\
    189 & [6-13, 6-10, 8-9, 10-12, 9-6] & 420.63 \\
    45 & [6-13, 6-10, 8-9, 10-12, 8-12] & 423.96 \\
    70 & [6-13, 8-9, 10-12, 9-6] & 424.12 \\
    157 & [6-13, 6-10, 11-12, 8-9, 8-12] & 427.46 \\
    250 & [6-13, 11-12, 8-9, 10-12, 9-6] & 436.17 \\
    \hline
  \end{tabular}
  \caption{Best configurations with the additional lines}
  \label{tab:top10_rene}
\end{table}

Mention operation cost is practically zero if we are able to ensure the $N-1$ criteria.

